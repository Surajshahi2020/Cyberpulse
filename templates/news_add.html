<!-- templates/news_add.html -->
{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2><i class="fas fa-plus-circle me-2 text-primary"></i> Add New Threat Report</h2>
  <a href="{% url 'news_feed' %}" class="btn btn-outline-secondary btn-sm">
    <i class="fas fa-arrow-left me-1"></i> Back to Feed
  </a>
</div>

<div class="card border-0">
  <div class="card-header bg-primary text-white">
    <h5 class="mb-0"><i class="fas fa-edit me-2"></i> Report Details</h5>
  </div>
  <div class="card-body">
    <form method="post" action="{% url 'news_feed' %}">
      {% csrf_token %}
      
      <div class="row">
        <!-- Title -->
        <div class="col-md-12 mb-3">
          <label class="form-label">Headline *</label>
          <input type="text" class="form-control" name="title" required maxlength="200"
                 placeholder="e.g., Fake Charity Campaign on Facebook">
        </div>

        <!-- Source -->
        <div class="col-md-6 mb-3">
          <label class="form-label">Source Platform *</label>
          <select class="form-select" name="source" required>
            <option value="">-- Select --</option>
            <option value="Twitter">Twitter / X</option>
            <option value="Facebook">Facebook</option>
            <option value="Instagram">Instagram</option>
            <option value="Reddit">Reddit</option>
            <option value="Telegram">Telegram</option>
            <option value="WhatsApp">WhatsApp</option>
            <option value="YouTube">YouTube</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <!-- Category -->
        <div class="col-md-6 mb-3">
          <label class="form-label">Threat Category *</label>
          <select class="form-select" name="category" required>
            <option value="">-- Select --</option>
            <option value="Phishing">Phishing</option>
            <option value="Disinformation">Disinformation</option>
            <option value="Scam">Financial Scam</option>
            <option value="Impersonation">Impersonation</option>
            <option value="Malware">Malware Link</option>
            <option value="Rumor">Rumor / Panic</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <!-- URL (Optional) -->
        <div class="col-md-12 mb-3">
          <label class="form-label">Source URL</label>
          <input type="url" class="form-control" name="url" placeholder="https://example.com/post/123">
        </div>

        <!-- Description -->
        <div class="col-md-12 mb-3">
          <label class="form-label">Description / Evidence</label>
          <textarea class="form-control" name="description" rows="4" 
                    placeholder="Describe the threat, include usernames, hashtags, or key phrases..."></textarea>
        </div>

        <!-- Severity -->
        <div class="col-md-6 mb-3">
          <label class="form-label">Severity</label>
          <select class="form-select" name="severity">
            <option value="Low">Low</option>
            <option value="Medium" selected>Medium</option>
            <option value="High">High</option>
            <option value="Critical">Critical</option>
          </select>
        </div>

        <!-- Status -->
        <div class="col-md-6 mb-3">
          <label class="form-label">Initial Status</label>
          <select class="form-select" name="status">
            <option value="PENDING">Pending Review</option>
            <option value="INVESTIGATING" selected>Investigating</option>
            <option value="RESOLVED">Resolved</option>
          </select>
        </div>
      </div>

      <div class="d-flex justify-content-end gap-2">
        <button type="reset" class="btn btn-secondary">Reset</button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-save me-1"></i> Submit Report
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}